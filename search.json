[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"The MIT License","title":"The MIT License","text":"Copyright 2023 Statistisk sentralbyrå - Statistics Norway Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/SECURITY.html","id":null,"dir":"","previous_headings":"","what":"Security Policy","title":"Security Policy","text":"SSB takes security software products services seriously, includes source code repositories managed GitHub organization. believe responsible disclosure security vulnerabilities helps us ensure security privacy users.","code":""},{"path":"/SECURITY.html","id":"reporting-a-vulnerability","dir":"","previous_headings":"","what":"Reporting a Vulnerability","title":"Security Policy","text":"believe found security vulnerability SSB’s GitHub repositories, please report us using Github Private vulnerability reporting tool.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"hvorfor-bygge-en-r-pakke","dir":"Articles","previous_headings":"","what":"Hvorfor bygge en R-pakke?","title":"SSB mal for R-pakker","text":"R pakker er en god måte å dele koden din med andre. Gjenbruk av kode er et av de grunnleggende -arkitekturprinsipper vi bruker SSB. Utvikling av R-pakker er et positiv bidrag til dette. Koden blir dokumentert på en standardisert måte og det kan lett deles med andre internt og eksternt. Det er gode løsninger avhengighet mellom pakker og funksjoner ulike pakker. Hovedårsakene å bygge R-pakker: Lett å delekode med andre Organisere arbeid Dokumentasjon både deg selv og andre Desverre kan det være et høyt terskel til å bygge en pakke, særlig hvis du ikke har gjort dette før. Gruppen Kvalitet kode og kode (KVAKK) har satt opp noen krav og anbefalinger til pakker som lages SSB. Det går på ting som navnestandard, dokumentasjon og testing. å gjøre det lettere å følge har KVAKK utviklet et mal som kan brukes å opprette strukturen en R-pakke som følge SSB standarder på en lett måte.","code":""},{"path":[]},{"path":"/articles/vignette_SSB_pakke.html","id":"før-du-starte","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Før du starte","title":"SSB mal for R-pakker","text":"Vi anbefaler å bruke RStudio til å lage R-pakker. Mal SSB pakker er inkluderte SSBs fellesr pakke. Sjekk du har installerte fellesr fra før ved å skrive Hvis ikke det er installert følg instruk på fellesr siden på github SSBs mal R-pakke sette opp et github repository på Statisticsnorway område. Noen av prosesser å sette opp repoen kreve både “repo” og “workflow”. Sjekk tokenet ditt har workflow og repo scope ved å logge inn på GitHub, klikk på ikonet ditt oppe til høyre, velg Settings, Developer settings (helt nederst til venstre), Personal access tokens og Tokens(classic). Hvis tokenet ditt mangler et av scopene så lager du et nytt token som beskrevet Dapla-manualen.","code":"library(fellesr)"},{"path":"/articles/vignette_SSB_pakke.html","id":"start-et-nytt-prosjekt-for-pakken","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Start et nytt prosjekt for pakken","title":"SSB mal for R-pakker","text":"å starte et nytt prosjekt pakken din, velg File > New Project… > New Directory. Det skal åpnes et vindu hvor du kan da velge “SSB R-package”. Velg dette. Gi pakken din et navn (ingen mellomrom eller bindestrekk) og fyll inn en beskrivelse, og navn ditt. Klikk på “Create project” å opprette pakken. En mappe opprettes på område du har valgt å starte prosjektet men med “ssb-” på foran. Dette er å fylle navn-standard SSB. HVis du velge å opprette et github repository (anbefalt å kunne dele med andre) vil det spøres om github brukernavn og github token. Github token må ha workflow rettigheter å kunne opprette alle filene. Følge prosessen videre og godkjenne endringer til README filene som anbefalt.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"hva-er-alle-filene","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Hva er alle filene?","title":"SSB mal for R-pakker","text":"Etter du har kommet gjennom prosessen av å opprette mal pakken din vil du se det er mange filer inn mappen. Hovedkomponenter er: R/ mappe hvor R-kode skal ligge. man/ mappe hvor beskrivelsen av funksjoner skal lagres. data/ mappe hvor test/syntetiske data kan lagres. Dette er ikke ekte data. tests/ mappe som inneholder enhetstester funksjoner pakken. En DESCRIPTION fil, som gi en generell beskrivelsen av pakken. En NAMESPACE fil, som forklarer hvordan pakken og funksjoner skal kommunisere med andre pakker. Andre filer som opprettes inkludere en Rstudio prosjekt fil, pkgname.Rproj, en .buildignore fil som si hva skal ikke inkluderes/deles videre mappen, og SSB standard lisens og sikkerhet filer. Ved å sette opp en github repo til pakken blir det opprettet en .git mappe til git filene og .github mappen som inkkludere filer automatiske testing og bygging av dokumentasjon. Filen News.md inkludere informasjon til de som skal bruke pakken din om endringer versjoner hvis du utvikle pakken videre.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"legg-inn-egen-kode","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Legg inn egen kode","title":"SSB mal for R-pakker","text":"Funksjoner kan nå flyttes inn til mappen som heter R/. Det er anbefalt å dokumentere funksjoner ved roxygen2. Da kan du gi funksjoner et navn og beskrivelsen tillegg til å spesifisere parameter og det som returneres. Det er alltid god praksis å lage noen enkel eksempler som viser hvordan funksjoner fungere. Mer om dokumentasjon av koden ved roxygen2 finner du Object documentation.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"redigere-description-fil","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Redigere DESCRIPTION-fil","title":"SSB mal for R-pakker","text":"DESCRIPTION filen er en viktig fil som sier noen generelt om pakken du lager. Det inkluderer navn av pakken, beskrivelsen og hvem som har skrevet det. Navn av pakken må ikke inkludere “-” eller mellomrom og kan være ulik reponavn som sannsynligvis inkludere “ssb-”. Description filen kan åpnes og redigeres direkte RStudio. Filen også inkludere informasjon om hvike andre pakker trengs å kunne kjøre koden din. Endre dette etter behov. Mer detaljer om DESCRIPTION filen finner du ","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"testing","dir":"Articles","previous_headings":"Hvordan bruke SSBs mal for R-pakker?","what":"Testing","title":"SSB mal for R-pakker","text":"Det er viktig å lage noen tester (enhetstester) til funksjoner pakken din. Dette kan bidra til færre bugs og bedre struktur koden. Pakken testthat gi et rammeverk å lage og kjøre tester. En typisk test er å sjekke en funksjon returnere en forventet verdi. Koden tester skal ligger .R filer og skal ligge pakken /tests/testthat/.Filnavn skal starte med test. tillegg til fil(ene) som inneholder tester skal det være en fil som heter testthat.R. Dette lagres mappen /tests/ og gir instruks om det som skal testes. Mer informajson om testing finner du kapittel 12.","code":""},{"path":[]},{"path":"/articles/vignette_SSB_pakke.html","id":"pull-request-og-merge","dir":"Articles","previous_headings":"Dele pakken med andre","what":"Pull request og merge","title":"SSB mal for R-pakker","text":"Når du har flyttet inn koden din til mappen som ble oprettet ved SSB mal kan du commit og push endringer til github. Logg inn på repoet på GitHub og opprett en pull-request. Vent med å legge til Reviewers til du ser alle sjekker er “grønne”. Noen av testene kjøres først når du oppretter en pull-request, slik som kjøring av tester med forskjellige R-versjoner. Det er greit å sjekke alt dette går gjennom før du ber noen se på koden, slik de slipper å se på den flere ganger. Når pull requesten er godkjent, så merger du den og sletter branchen. Pakken blir da “publisert” til Github og er tilgjengelig installering av andre (devtools::install_github(\"statisticsnorway/ssb-minpakke\")). Dokumentasjonen vil blir automatisk publiserte til GitHub Pages. Linken til dokumentasjonen er: statisticsnorway.github.io/. Sjekk dokumentasjon ser ut som forventet.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"konfigurering-av-github-repo","dir":"Articles","previous_headings":"Dele pakken med andre","what":"Konfigurering av GitHub-repo","title":"SSB mal for R-pakker","text":"SSBs mal R-pakker opprette repo som intern. Men det mye lettere å installere public pakker fra github. Det settes en del krav til hvordan et public GitHub repo SSB skal være konfigurert se ADR0006. Sørg disse er oppfylt. Se beskrivelse av hvordan konfigurere et GitHub-repo detaljer, og legg til hvem som skal ha tilgang til repoet. Send en e-post til sikkerhetssenter@ssb.og om repoet gjøres public. Etter repoet er public, gjennomfør resterende konfigurasjon som beskrevet på siden hvordan konfigurere et public GitHub-repo biblioteker.","code":""},{"path":"/articles/vignette_SSB_pakke.html","id":"lag-en-release","dir":"Articles","previous_headings":"Dele pakken med andre","what":"Lag en release","title":"SSB mal for R-pakker","text":"Release gjøre det enklere å kontrollere versjoner av pakken din senere. Det betyr de som bruker pakkenn din kan installere eldre versjoner av pakke på en lett måte. Dette kan du gjøre fra Github ved å trykke på “Create new release”. Release title er vanligvis versjonsnummer eks. “v1.0.0”.","code":""},{"path":"/articles/vignette_SSB_theme.html","id":"visualisering-med-ggplot","dir":"Articles","previous_headings":"","what":"Visualisering med ggplot","title":"SSB ggplot theme","text":"R-pakken ggplot er et populær verktøy visualisering av data. Det er utrolig mange forskjellige type figurer som kan lages. skal vi bruke ggplot et datasett som heter mtcars å vise noen visualisering med ggplot. Vi starter med å lage en stolpediagram som et eksempel:","code":"library(ggplot2)  ggplot(mtcars, aes(x=cyl, fill=as.factor(cyl))) +    geom_bar( )"},{"path":"/articles/vignette_SSB_theme.html","id":"bruk-av-theme_ssb","dir":"Articles","previous_headings":"","what":"Bruk av theme_ssb","title":"SSB ggplot theme","text":"Vi har laget et tema (theme) SSB ggplot som heter theme_ssb. Dette er tilgjengelig fellesr pakken. Theme endre bakgrunn farge, font og tekst størrelse til å ligne på det vi publiserer notat og dokument-serie. Merk fargene på stolpene ikke endres!","code":"library(fellesr)  ggplot(mtcars, aes(x=cyl, fill=as.factor(cyl))) +    geom_bar( ) +    theme_ssb()"},{"path":"/articles/vignette_SSB_theme.html","id":"endre-til-ssb-farge-i-figurer","dir":"Articles","previous_headings":"","what":"Endre til SSB farge i figurer","title":"SSB ggplot theme","text":"å endre fargene en figur har vi laget noen SSB funksjoner som fungere med ggplot.","code":""},{"path":"/articles/vignette_SSB_theme.html","id":"kategoriske-data---scale_fill_ssb","dir":"Articles","previous_headings":"Endre til SSB farge i figurer","what":"Kategoriske data - scale_fill_ssb()","title":"SSB ggplot theme","text":"Vi kan endre til SSB farger ved bruk av scale_fill_ssb()  Vi kan spesifisere fargevalg inn `scale_fill_ssb() funksjonen. Velg mellom: ‘main’ (default), ‘greens’, ‘blues’, ‘primary’, ‘secondary’, ‘shade1’, ‘shade2’,‘shade3’, ‘shade4’, eller ‘shade5’.","code":"ggplot(mtcars, aes(x=as.factor(cyl), fill=as.factor(cyl) )) +    geom_bar( ) +   scale_fill_ssb() +   theme_ssb() ggplot(mtcars, aes(x=as.factor(cyl), fill=as.factor(cyl) )) +    geom_bar( ) +   scale_fill_ssb('blues') +   theme_ssb()"},{"path":"/articles/vignette_SSB_theme.html","id":"numeriske-data---scale_color_ssb","dir":"Articles","previous_headings":"Endre til SSB farge i figurer","what":"Numeriske data - scale_color_ssb()","title":"SSB ggplot theme","text":"kontinuous numeriske data kan vi bruke scale_color_ssb() å endre farger. example","code":"ggplot(mtcars, aes(x=hp, y=mpg, color=disp)) +    geom_point( ) +   scale_colour_ssb('greens') +   theme_ssb()"},{"path":"/articles/vignette_SSB_theme.html","id":"mer","dir":"Articles","previous_headings":"","what":"Mer","title":"SSB ggplot theme","text":"Det er mulig å spesifisere farger enda mer. mer detaljer og eksempeler om hvordan å hente ut SSB farge fra KLASS ser dokumentasjon om SSB fargepalett","code":""},{"path":[]},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"funksjonen-read_ssb-inneholder-følgende-wrapper-funksjoner","dir":"Articles","previous_headings":"Wrapper-funksjoner fra arrow/googleCloudStorageR","what":"Funksjonen read_SSB inneholder følgende wrapper-funksjoner:","title":"DAPLA jukseark","text":"read_parquet read_parquet_sf read_feather read_csv read_rds read_xml read_json open_dataset","code":""},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"funksjonen-write_ssb-inneholder-følgende-wrapper-funksjoner","dir":"Articles","previous_headings":"Wrapper-funksjoner fra arrow/googleCloudStorageR","what":"Funksjonen write_SSB inneholder følgende wrapper-funksjoner:","title":"DAPLA jukseark","text":"write_parquet write_sf_parquet write_feather write_csv write_rds write_dataset","code":""},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"andre-funksjoner","dir":"Articles","previous_headings":"Wrapper-funksjoner fra arrow/googleCloudStorageR","what":"Andre funksjoner","title":"DAPLA jukseark","text":"gcs.list.files gcs_list_objects gcs_delete_object gcs_bucket","code":""},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"se-innholdet-i-buckets-på-google-cloud-storage","dir":"Articles","previous_headings":"","what":"Se innholdet i buckets på Google Cloud Storage","title":"DAPLA jukseark","text":"Funksjonene list.files og gcs_list_objects kan brukes til å liste opp filene som finnes Google Cloud Storage buckets. list.files kan brukes på alle mapper og undermapper, mens gcs_list_objects kun fungerer på “bøttenivå”. Til gjengjeld vises også filstørrelse og endringsdato.","code":"fellesr::gcs.list.files(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/\")  fellesr::gcs_list_objects(\"ssb-prod-dapla-felles-data-delt/R_smoke_test\") %>% dplyr::arrange(desc(updated))"},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"slette-filer-fra-google-cloud-storage","dir":"Articles","previous_headings":"","what":"Slette filer fra Google Cloud Storage","title":"DAPLA jukseark","text":"Funksjonen gcs_delete_object kan brukes til å slette filer fra en Google Cloud Storage bucket.","code":"fellesr::gcs_delete_object(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.parquet\")"},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"lese-inn-data-fra-google-cloud-storage","dir":"Articles","previous_headings":"","what":"Lese inn data fra Google Cloud Storage","title":"DAPLA jukseark","text":"Funksjonen read_SSB kan brukes til å lese inn .parquet-, .feather-, .csv-, .rds-, .xml- og json-filer fra Google Cloud Storage ved å oppgi full sti til “bøtten” + filnavn. Det er også mulig å kun lese inn valgte kolonner og kolonnenavnene spesifiseres col_select. Dersom filen er lagret som en “multifile dataset” (partitioned), dvs. en fil som ser ut som en mappe, kan denne lese inn ved å skrive navnet på mappen (uten endelsen .parquet).","code":"# Parquet read_SSB_parquet <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.parquet\") read_SSB_parquet <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.parquet\", col_select = c(\"Year\", \"Month\")) read_SSB_mfd <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/enda_en_ny_mappe\") # OBS: mangler eksempeldata  # Feather read_SSB_feather <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.feather\")  # CSV read_SSB_csv <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.csv\")  # JSON read_SSB_json <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/XXX.json\") # OBS: mangler eksempeldata  # XML read_SSB_xml <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/XXX.xml\") # OBS: mangler eksempeldata  # RDS read_SSB_rds <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.rds\")"},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"lese-inn-kartdata-lagret-som--parquet-filer","dir":"Articles","previous_headings":"Lese inn data fra Google Cloud Storage","what":"Lese inn kartdata lagret som .parquet-filer","title":"DAPLA jukseark","text":"å laste inn kartdata lagret som .parquet-filer må man spesifisere sf = TRUE funksjonen read_SSB. mer informasjon om hvordan å jobbe med kartdata på DAPLA, se Kartdata DAPLA-manualen.","code":"data <- fellesr::read_SSB(\"ssb-prod-dapla-felles-data-delt/GIS/testdata/veger_oslo.parquet\", sf = TRUE)"},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"lese-inn-deler-av-datasett--parquet-filer-m-m-","dir":"Articles","previous_headings":"Lese inn data fra Google Cloud Storage","what":"Lese inn deler av datasett (.parquet-filer m.m.)","title":"DAPLA jukseark","text":"Funksjonen open_dataset kan brukes til å lese deler av datasett (bl.. .parquet-, .feather- og .csv-filer) fra Google Cloud Storage. Det lages en forbindelse til mappen der filen ligger og deretter kan man bruke argumenter fra dplyr, som f.eks. filter og select, før man bruker collect til å lese inn dataene R. øyeblikket er det ikke mulig å kun lese inn én fil som ligger en mappe så dersom dataene ikke er “partitioned” må filen ligge en egen undermappe dersom den skal lese inn alene. Funksjonen open_dataset kan også brukes til å lese inn deler av kartdata lagret som .parquet-filer. På samme måte som vanlige .parquet-filer må filen som leses inn ligge en mappe der det kun ligger én fil. Filstien peker til mappen der filen ligger. Deretter kan man bruke dplyr-verb å filtrere rader og selektere kolonner før man til slutt leser inn filene med sfarrow::read_sf_dataset().","code":"data <- fellesr::open_dataset(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987_1996_dataset\") %>%  dplyr::filter(Year == 1996 & TailNum == \"N2823W\") %>%  dplyr::select(Year, Month, DayofMonth, TailNum) %>%  dplyr::collect() data <- fellesr::open_dataset(\"ssb-prod-dapla-felles-data-delt/GIS/Kart/2023/ABAS_grunnkrets_flate_2023/\") %>%   dplyr::filter(KOMMUNENR == \"0301\") %>%   sfarrow::read_sf_dataset()"},{"path":"/articles/vignette__DAPLA_jukseark.html","id":"skrive-data-til-google-cloud-storage","dir":"Articles","previous_headings":"","what":"Skrive data til Google Cloud Storage","title":"DAPLA jukseark","text":"Funksjonen write_SSB kan brukes til å skrive .parquet-, .feather-, .csv- og .rds-filer til Google Cloud Storage.","code":"# PARQUET fellesr::write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.parquet\")  # \"Multifile\" datasett fellesr::write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_multifile_dataset_test\", partitioning = TRUE)  # FEATHER fellesr::write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.feather\")  # CSV fellesr::write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.csv\")  # RDS fellesr::write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_rds_test.rds\")"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"parametre","dir":"Articles","previous_headings":"","what":"Parametre","title":"Uttrekk fra Dynarev til R","text":"delregnr : Numerisk vektor med delregisternummer. skjema : Boolsk/karaktervektor med skjemanavn. Hvis TRUE returneres alle skjema valgt delregister. enhets_type : Karaktervektor med enhetstype (f.eks. BEDR og/eller FRTK). skjema_cols : Boolsk/karaktervektor. Hvis TRUE henter man alle variabler fra skjema. Hvis FALSE henter man ikke skjemadata, kun SFU-data (hvis sfu_cols = TRUE). Det er også mulig å lage en vektor/liste av variabelnavn, f.eks. c(“variabel1”, “variabel2”), dersom man kun vil ha utvalgte variabler fra skjema. sfu_cols : Boolsk/karaktervektor. Hvis TRUE blir alle variabler fra SFU valgt delregister og skjema inkludert. å kun velge én eller flere variabler fra SFU skrives disse en vektor/liste, f.eks. c(“variabel1”, “variabel2”). skjema_sfu_merge : Boolsk. Hvis TRUE blir skjemadataene og SFU-dataene merget. Dersom FALSE blir dataene hentet som separate datasett en liste; [1] skjemadata og [2] SFU-data. dublettsjekk : Boolsk/karaktervektor. Hvis TRUE sjekkes det dubletter skjemadata etter ENHETS_ID. Dersom man ønsker å sjekke dubletter etter én eller flere selvvalgte variabler skrives disse en vektor, f.eks. c(“variabel1”, “variabel2”). Liste med datasett returneres; [1] skjemadata og [2] dublettdata (dersom det finnes dubletter, hvis ikke er denne blank). con_ask : Boolsk/karaktervektor. Hvis TRUE får man opp en boks som spør etter Oracle-passord. Hvis FALSE spørres det ikke om passord. Ved å skrive dynarev_uttrekk(con_ask = \"con\") får man opp en boks som spør etter Oracle-passord og kun koblingen mot Oracle blir returnert (ikke data). Denne kan brukes dersom man skal lese inn flere skjema etter hverandre å unngå å skrive inn passordet flere ganger. raadata : Boolsk. Hvis FALSE returneres reviderte data (fra FELT_VERDI), TRUE returnerer rådata.","code":"dynarev_uttrekk(   delregnr,   skjema = T,   enhets_type = c(\"FRTK\", \"BEDR\"),   skjema_cols = T,   sfu_cols = F,   skjema_sfu_merge = F,   dublettsjekk = F,   con_ask = T,   raadata = F )"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"eksempler","dir":"Articles","previous_headings":"","what":"Eksempler","title":"Uttrekk fra Dynarev til R","text":"følger en rekke eksempler på hvordan man bruker funksjonen dynarev_uttrekk.","code":""},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-kolonner-fra-valgt-skjema","dir":"Articles","previous_headings":"Eksempler","what":"Alle kolonner fra valgt skjema","title":"Uttrekk fra Dynarev til R","text":"får man lastet inn alle kolonnene fra valgt skjema.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"utvalgte-kolonner-fra-valgt-skjema","dir":"Articles","previous_headings":"Eksempler","what":"Utvalgte kolonner fra valgt skjema","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned utvalgte kolonner fra valgt skjema. er kolonnene AARGANG, FORETAKETS_NAVN og FORETAKETS_ORGNR valgt.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = c(\"AARGANG\", \"FORETAKETS_NAVN\", \"FORETAKETS_ORGNR\"))"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-sfu-kolonner-fra-valgt-skjema","dir":"Articles","previous_headings":"Eksempler","what":"Alle SFU-kolonner fra valgt skjema","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned alle kolonnene med SFU-data fra valgt skjema.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = F,                            sfu_cols = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"utvalgte-sfu-kolonner-fra-valgt-skjema","dir":"Articles","previous_headings":"Eksempler","what":"Utvalgte SFU-kolonner fra valgt skjema","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned utvalgte kolonner med SFU-data fra valgt skjema. er kolonnene NAVN og ORGNR valgt.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = F,                            sfu_cols = c(\"NAVN\", \"ORGNR\"))"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-sfu-kolonner-fra-alle-skjemaer","dir":"Articles","previous_headings":"Eksempler","what":"Alle SFU-kolonner fra alle skjemaer","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned alle kolonnene med SFU-data fra alle skjema valgt delregister. Dersom man kun ønsker utvalgte variabler fra SFU-data erstattes sfu_cols = T med sfu_cols = c(\"variabel1\", \"variabel2\").","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = T,                            skjema_cols = F,                            sfu_cols = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-kolonner-fra-valgt-skjema-og-alle-sfu-kolonner","dir":"Articles","previous_headings":"Eksempler","what":"Alle kolonner fra valgt skjema og alle SFU-kolonner","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (alle kolonner) og SFU-data (alle kolonner) fra valgt delregister. Objektet dynarev inneholder altså datasett. å få hentet ut skjemadata skriver man dynarev_skjema <- data.frame(dynarev[1]) og å hente ut SFU-data skriver man dynarev_sfu <- data.frame(dynarev[2]).","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = T,                            sfu_cols = T)  dynarev_skjema <- data.frame(dynarev[1]) dynarev_sfu <- data.frame(dynarev[2])"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-kolonner-fra-valgt-skjema-og-utvalgte-sfu-kolonner","dir":"Articles","previous_headings":"Eksempler","what":"Alle kolonner fra valgt skjema og utvalgte SFU-kolonner","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (alle kolonner) og SFU-data (utvalgte kolonner, NAVN og ORGNR) fra valgt delregister. Objektet dynarev inneholder altså datasett. å få hentet ut skjemadata skriver man dynarev_skjema <- data.frame(dynarev[1]) og å hente ut SFU-data skriver man dynarev_sfu <- data.frame(dynarev[2]).","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = T,                            sfu_cols = c(\"NAVN\", \"ORGNR\"))  dynarev_skjema <- data.frame(dynarev[1]) dynarev_sfu <- data.frame(dynarev[2])"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"utvalgte-kolonner-fra-valgt-skjema-og-utvalgte-sfu-kolonner","dir":"Articles","previous_headings":"Eksempler","what":"Utvalgte kolonner fra valgt skjema og utvalgte SFU-kolonner","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (utvalgte kolonner, AARGANG, FORETAKETS_NAVN og FORETAKETS_ORGNR) og SFU-data (utvalgte kolonner, NAVN og ORGNR) fra valgt delregister. Objektet dynarev inneholder altså datasett. å få hentet ut skjemadata skriver man dynarev_skjema <- data.frame(dynarev[1]) og å hente ut SFU-data skriver man dynarev_sfu <- data.frame(dynarev[2]).","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = c(\"AARGANG\", \"FORETAKETS_NAVN\", \"FORETAKETS_ORGNR\"),                            sfu_cols = c(\"NAVN\", \"ORGNR\"))  dynarev_skjema <- data.frame(dynarev[1]) dynarev_sfu <- data.frame(dynarev[2])"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-kolonner-fra-valgt-skjema-og-alle-sfu-kolonner-koblet-sammen","dir":"Articles","previous_headings":"Eksempler","what":"Alle kolonner fra valgt skjema og alle SFU-kolonner (koblet sammen)","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (alle kolonner) og SFU-data (alle kolonner) fra valgt delregister. SFU-dataene blir koblet på skjemadataene slik man kun får én fil.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = T,                            sfu_cols = T,                            skjema_sfu_merge = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"alle-kolonner-fra-valgt-skjema-og-utvalgte-sfu-kolonner-koblet-sammen","dir":"Articles","previous_headings":"Eksempler","what":"Alle kolonner fra valgt skjema og utvalgte SFU-kolonner (koblet sammen)","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (alle kolonner) og SFU-data (utvalgte kolonner, NAVN og ORGNR) fra valgt delregister. SFU-dataene blir koblet på skjemadataene slik man kun får én fil.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE41\",                            skjema_cols = T,                            sfu_cols = c(\"NAVN\", \"ORGNR\"),                            skjema_sfu_merge = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"utvalgte-kolonner-fra-valgt-skjema-og-utvalgte-sfu-kolonner-koblet-sammen","dir":"Articles","previous_headings":"Eksempler","what":"Utvalgte kolonner fra valgt skjema og utvalgte SFU-kolonner (koblet sammen)","title":"Uttrekk fra Dynarev til R","text":"får man lastet ned både skjemadata (utvalgte kolonner, AARGANG, FORETAKETS_NAVN og FORETAKETS_ORGNR) og SFU-data (utvalgte kolonner, NAVN og ORGNR) fra valgt delregister. SFU-dataene blir koblet på skjemadataene slik man kun får én fil.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                                     skjema = \"HELSE41\",                                     skjema_cols = c(\"AARGANG\", \"FORETAKETS_NAVN\", \"FORETAKETS_ORGNR\"),                                     sfu_cols = c(\"NAVN\", \"ORGNR\"),                                     skjema_sfu_merge = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"dublettsjekk-etter-enhets_id","dir":"Articles","previous_headings":"Eksempler","what":"Dublettsjekk etter ENHETS_ID","title":"Uttrekk fra Dynarev til R","text":"får man testet dubletter (etter ENHETS_ID) skjemadata. Liste med datasett returneres; [1] skjemadata og [2] dublettdata (dersom det finnes dubletter, hvis ikke er denne blank).","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE39\",                            dublettsjekk = T)  dynarev_skjema <- data.frame(dynarev[1]) dynarev_dubletter <- data.frame(dynarev[2])"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"dublettsjekk-etter-egenvalgte-variabler","dir":"Articles","previous_headings":"Eksempler","what":"Dublettsjekk etter egenvalgte variabler","title":"Uttrekk fra Dynarev til R","text":"Dersom man ønsker å sjekke dubletter etter én eller flere selvvalgte variabler skrives disse en vektor, f.eks. dublettsjekk = c(\"variabel1\", \"variabel2\").","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = \"HELSE0X\",                            dublettsjekk = c(\"FORETAKSNR\", \"ART_SEKTOR\", \"FUNKSJON_KAPITTEL\"))  dynarev_skjema <- data.frame(dynarev[1]) dynarev_dubletter <- data.frame(dynarev[2])"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"laste-inn-flere-skjema-uten-å-skive-passord","dir":"Articles","previous_headings":"Eksempler","what":"Laste inn flere skjema uten å skive passord","title":"Uttrekk fra Dynarev til R","text":"å slippe å oppgi passord flere ganger når man skal laste inn flere skjema kan man skrive con_ask = FALSE. dette skal fungere må man logge på først øverst scriptet: con <- dynarev_uttrekk(con_ask = \"con\")","code":"con <- dynarev_uttrekk(con_ask = \"con\")  dynarev_1 <- dynarev_uttrekk(delregnr = 2421,                              skjema = \"HELSE41\",                              skjema_cols = T,                              con_ask = F)  dynarev_2 <- dynarev_uttrekk(delregnr = 2421,                              skjema = \"HELSE46P\",                              skjema_cols = T,                              con_ask = F)  dynarev_3 <- dynarev_uttrekk(delregnr = 2421,                              skjema = \"HELSE39\",                              skjema_cols = T,                              con_ask = F)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"laste-inn-flere-skjema-fra-samme-delreg-i-samme-fil","dir":"Articles","previous_headings":"Eksempler","what":"Laste inn flere skjema fra samme delreg i samme fil","title":"Uttrekk fra Dynarev til R","text":"å laste inn data fra flere skjemaer samme fil skriver man skjemanavnene en karaktervektor argumentet skjema. er skjemaene HELSE38P, HELSE39 og HELSE44P valgt.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = c(\"HELSE38P\", \"HELSE39\", \"HELSE44P\"),                            skjema_cols = c(\"FORETAKETS_NAVN\", \"FORETAKETS_ORGNR\", \"HELSEREGION_EPOST\", \"HELSEREGION_NAVN\"))"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"laste-inn-alle-skjema-fra-delreg-i-samme-fil","dir":"Articles","previous_headings":"Eksempler","what":"Laste inn alle skjema fra delreg i samme fil","title":"Uttrekk fra Dynarev til R","text":"å laste inn alle skjema fra samme delregister samme fil skriver man skjema = T. enhets_type må man samtidig skrive inn alle enhetstypene som finnes det valgte delregisteret (f.eks. BEDR og FRTK). OBS: dette uttrekket kan føre til en veldig stor fil med mange rader og kolonner så det kan være lurt å spesifisere hvilke variabler man ønsker å hente ut.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                                      skjema = T,                                      skjema_cols = T,                                      sfu_cols = F)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"laste-inn-sfu-data-fra-flere-skjema-fra-delreg-i-samme-fil","dir":"Articles","previous_headings":"Eksempler","what":"Laste inn sfu-data fra flere skjema fra delreg i samme fil","title":"Uttrekk fra Dynarev til R","text":"lastes det inn SFU-data fra flere skjema (fra samme delregister).","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = c(\"HELSE38P\", \"HELSE39\", \"HELSE44P\"),                            skjema_cols = F,                            sfu_cols = T)"},{"path":"/articles/vignette_dynarev_uttrekk.html","id":"laste-inn-rådata","dir":"Articles","previous_headings":"Eksempler","what":"Laste inn rådata","title":"Uttrekk fra Dynarev til R","text":"lastes det inn rådata fra de aktive enhetene valgt skjema/valgte skjemaer.","code":"dynarev <- dynarev_uttrekk(delregnr = 2421,                            skjema = T,                            skjema_cols = T,                            raadata = T)"},{"path":"/articles/vignette_shiny_ssb.html","id":"kjøre-shiny","dir":"Articles","previous_headings":"","what":"Kjøre shiny","title":"Kjøre shiny og Esquisse i Jupyter","text":"R pakken shiny gjøre det lett å lage interactive sider og dashboards. Appene kan kjøres fra Jupyter men stien som det pekes til er tiden feil internt SSB. Som en kjapt løsning har vi laget “wrapper” funksjoner (runApp_ssb og runExample) som kan brukes som gjøre shiny SSB brukerne. er de wrapper funksjonene shiny: å kjøre et eksempel shiny app:","code":"library(shiny) library(fellesr)  runExample_ssb(\"01_hello\")"},{"path":"/articles/vignette_shiny_ssb.html","id":"kjøre-esquisser","dir":"Articles","previous_headings":"","what":"Kjøre esquisser","title":"Kjøre shiny og Esquisse i Jupyter","text":"R pakken esquisser er en interactive verktøy å lage ggplot. Dette kan kjøre Jupyte, men igjen er stien som det pekes til feil. Wrapper funksjonen esquisser_ssb peker til ritkig sted appen. example:","code":"library(esquisse) library(fellesr) data(iris)  esquisser_ssb(iris)"},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"hvorfor-bygge-en-r-pakke","dir":"Articles > Web_only","previous_headings":"","what":"Hvorfor bygge en R-pakke?","title":"Hvordan å bygge en R-pakke","text":"Har du en laget en funksjon som du tror andre kan få nytte av? Den beste løsning å dele funksjoner R med andre er å lage en pakke. Koden blir dokumentert på en standardisert måte og det kan lett deles med andre internt og eksternt. Det er gode løsninger avhengighet mellom pakker og funksjoner ulike pakker. Hovedårsakene å bygge R-pakker: Lett å dele og flytte Organisere arbeid Dokumentasjon både deg selv og andre R Packages skrevet av Hadley Wickham er en veldig god referanse pakke-bygging. Denne bloggen gir en kort intro og referere til forkjellige uvsnitt boken videre lesing.","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"teknisk-oppsett","dir":"Articles > Web_only","previous_headings":"","what":"Teknisk oppsett","title":"Hvordan å bygge en R-pakke","text":"Det er anbefalt å bygge R-pakke RStudio. Det er lettest å gjøre dette admin/på PC eller på linux. På linux er alle nødvendig tilleggsverktøy og pakker installerte. å bygge en pakke admin/på PC: Installere R og RStudio hvis ikke du har gjort dette tidligere. Søk om admin tilgang til PCen din om nødvendig. Installere git. Dette er verktøy vi bruker å dele pakken etterpå. Det er anbefalte å installere Rtools, særlig hvis koden inkluderer C, C++ eller Fortran kode. Hvis du vil bygge pdf-hjelp filene selv trenger du å installere en LaTeX verktøy eks. MikTex Det er fem nyttige R-pakker som gjøre pakke bygging prosessen lettere. Disse kan installeres ved: Endelig kan du sjekke om systemet er klar å bygge en pakke ved å kjøre:","code":"install.packages(c(\"devtools\", \"roxygen2\", \"testthat\", \"usethis\", \"knitr\")) library(devtools) has_devel()"},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"bygge-pakke-struktur","dir":"Articles > Web_only","previous_headings":"","what":"Bygge pakke-struktur","title":"Hvordan å bygge en R-pakke","text":"R-pakker har en standard struktur som må følges. å bygge alle nødvendig filer kan du kjøre: Dette oppretter noen mapper og filer og vil ligne på dette Hovedkomponenter er: R/ mappe hvor R-kode skal ligge. man/ mappe hvor beskrivelsen av funksjoner skal lagres. En DESCRIPTION fil, som gi en generell beskrivelsen av pakken. En NAMESPACE fil, som forklarer hvordan pakken og funksjoner skal kommunisere med andre pakker. Når man lage en pakke, opprettes det en Rstudio prosjekt fil, pkgname.Rproj og en .buildignore fil.","code":"library(usethis) create_package(\"~/path/to/minpakke\")"},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"description-fil","dir":"Articles > Web_only","previous_headings":"","what":"DESCRIPTION-fil","title":"Hvordan å bygge en R-pakke","text":"DESCRIPTION filen sier noen generelt om pakken du lager. Det inkluderer navn av pakken, beskrivelsen og hvem som har skrevet det. Denne filen kan åpnes og redigeres direkte RStudio. eksempel:  Mer detaljer om DESCRIPTION filen finner du ","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"dokumentasjon-av-kodefunksjoner","dir":"Articles > Web_only","previous_headings":"","what":"Dokumentasjon av kode/funksjoner","title":"Hvordan å bygge en R-pakke","text":"Funksjoner skal ligger som .R filer og skal flytte inn mappen som heter R/. Det er anbefalt å dokumentere funksjoner ved roxygen2. Da kan du gi funksjoner et navn og beskrivelsen tillegg til å spesifisere parameter og det som returneres. Det er alltid god praksis å lage noen enkel eksempler som viser hvordan funksjoner fungere. Mer om dokumentasjon av koden ved roxygen2 finner du Object documentation.","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"andre-filer","dir":"Articles > Web_only","previous_headings":"","what":"Andre filer","title":"Hvordan å bygge en R-pakke","text":"Det er mye annet som kan inkludere en pakke. eksempel kan det være nyttig til å inkludere noen små datasett til eksempler og testing. Disse skal være syntetiske data eller offentlig datasett. Mer om å inkludere data pakken din finner du .","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"testing","dir":"Articles > Web_only","previous_headings":"","what":"Testing","title":"Hvordan å bygge en R-pakke","text":"Det er ikke strengt nødvendig å lage noen formelle tester (enhetstester) til funksjoner en pakke men det er anbefalt. Det kan ofte bidra til færre bugs og bedre struktur koden. Pakken testthat gi et rammeverk å lage og kjøre tester. En typisk test er å sjekke en funksjon returnere en forventet verdi. eksempel kan vi bruke vectoren x nede å teste funksjonen mean returnerer den riktige verdien: bruker vi expect_equal og gir verdier som vi forventer er like. Mer hjelp og eksempler tester ligger . Koden tester skal ligger .R filer og skal ligge pakken /tests/testthat/.Filnavn skal starte med test. tillegg til fil(ene) som inneholder tester skal det være en fil som heter testthat.R. Dette lagres mappen /tests/ og gir instruks om det som skal testes. eksempel vil det vanligvis ligne på dette: Mer informajson om testing finner du kapittel 12.","code":"x <- c(3, 4, 5) test_that(\"The function mean returns a correct value\",{   expect_equal(mean(x), 4) }) library(testthat) library(minpakke)  test_check(\"minpakke\")"},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"dele-med-andre-ved-git","dir":"Articles > Web_only","previous_headings":"","what":"Dele med andre ved git","title":"Hvordan å bygge en R-pakke","text":"Git er et verktøy å versjonskontrollere kode og å dele med andre. Ved å legge pakken din på git betyr det andre kan installere pakken selv. Generelle informasjon om git SSB finner du på Byrånettet. Mye informasjon om git og R finner Happy Git Gihub useR. Noen filer vil du inkludere på github/bitbucket men ikke pakken din når det bygges. Dette kan være, eksempel, noen kjørekode som brukes utvikling/testing. En .Rbuildignore-fil kan inkluderes git repo å spesifisere hvilke filer ikke skal bygges inn pakken.","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"automatisere-testing-med-github-actions","dir":"Articles > Web_only","previous_headings":"","what":"Automatisere testing med github actions","title":"Hvordan å bygge en R-pakke","text":"Github Actions er en måte å automatisering testing av pakken din. Det kjøres tester om pakken kan bygges og om alle enhetstester godkjennes hver gang none endringer blir pushe opp til github (eksempel). Det kan også teste funksjonene fine på forskjellige OS og på forskjellige versjoner av R. Et eksempel av en pakke med tester og github actions er klassR som ligger ut på github. kan du se litt på workflows mappen og filene som kreves å kjøre disse automatiserte tester. Mer informasjon om hvordan å sette opp github action R finner på Github Actions R og/ eller på r-lib.","code":""},{"path":"/articles/web_only/bygge-en-r-tilleggspakke.html","id":"sitte-fast","dir":"Articles > Web_only","previous_headings":"","what":"Sitte fast?","title":"Hvordan å bygge en R-pakke","text":"Hvis du sitter fast med et problem med pakke bygging er det veldig sannsynlig andre på SSB har hatt det samme problemet. Ta gjerne kontakt med andre på Yammer","code":""},{"path":"/articles/web_only/kjre-r-p-sl-stata-p3-fra-sas.html","id":"sas-macro","dir":"Articles > Web_only","previous_headings":"","what":"1. SAS macro","title":"Kjøre R på sl-stata-p3 fra SAS","text":"Det er laget en (felles) SAS-makro alle kan benytte som ligger tilgjengelig på Linux. Makroen heter %RunScriptFromR og er dokumentert på SSB sin SAS-wiki (https://wiki.ssb./display/SASDOC/Nyttige+SAS+program) og prodsonen (Q:\\Saskurs\\Fellesprog\\RunScriptFromR.docx). Makroen tilbyr kjøring av skript med og uten parametere og håndtering av loggfil fra R-kjøringen. Se dokumentasjon nærmere beskrivelse. En forenklet utgave av makroen er vist hvis man ønsker å definere den selv SAS. Eksempel på bruk: Kopier følgende inn prosjektet ditt å definere macroen.","code":"%macro RunScriptFromR(program='', server=\"sl-stata-p3\",param=\"\");  %let server2 = %sysfunc(dequote(&server.)); %let program2 = %sysfunc(dequote(&program.)); %let args = %sysfunc(dequote(&param.));  filename CliCmnd PIPE \"export LC_ALL=en_US.UTF-8;     ssh -o 'StrictHostKeyChecking no' $USER@&server2. 'Rscript &program2. &args. '\";  DATA kjoring_logg;   INFILE CliCmnd encoding='utf-8';   LENGTH stdout $ 1500.;   INPUT stdout $ char500.; RUN;  %mend RunScriptFromR;"},{"path":"/articles/web_only/kjre-r-p-sl-stata-p3-fra-sas.html","id":"lag-r-scriptet-og-gjør-det-tilgjengelig","dir":"Articles > Web_only","previous_headings":"","what":"2. Lag R-scriptet og gjør det tilgjengelig","title":"Kjøre R på sl-stata-p3 fra SAS","text":"Først må du skrive ferdig R-scriptet og gjøre det tilgjengelig deg og de som skal kjøre programmet. Det er mulig å sende med parametere til kallet (param=’’), men det er ikke påkrevet. er et eksempel på et R-script som leser inn data og kjører en regresjon. Den lagrer de predikterte verdiene tillegg til å lagre informasjon om hvilken server det kjøres på (nodename). Til slutt lagres data som en .csv. Vi kaller scriptet: run_test.R. å ta imot parametre R-skriptet trenger man denne kodesnutten:","code":"# Les inn  data dt <- read.csv(\"~/sas_test/testdata.csv\")  # Fit model and show node name fit <- lm(y~x, data = dt) dt$predicted <- fit$fitted.values dt$node <- Sys.info()[\"nodename\"]  # Save write.csv(dt, file =\"~/sas_test/testdata_output.csv\",            row.names = F) args <- commandArgs(trailingOnly = TRUE) aar <- as.numeric(args[1])  # Konverterer det første argumentet til numerisk verdi"},{"path":"/articles/web_only/kjre-r-p-sl-stata-p3-fra-sas.html","id":"kjøre-r-scriptet-fra-sas","dir":"Articles > Web_only","previous_headings":"","what":"3. Kjøre R-scriptet fra SAS","title":"Kjøre R på sl-stata-p3 fra SAS","text":"Til slutt kjører vi macroen SAS.er et eksempel på å lage testdata som en csv og lagre det som en csv. Deretter kjører vi R-scriptet ved å kjøre macro og spesifiserer hvor R-script ligger (det er også mulig å kjøre til egen spesifisert logg om man ønsker det): Og så kan vi se på data som ble lagret fra scriptet SAS ved å lese inn data: Da ser vi data har nå en variabel predikterte verdiene og en variabel som viser den har kjørt på sl-stata-p3 serveren.","code":"DATA testdata; INPUT x y; DATALINES; 1 3.4 5 4.7 9 6.1 6 4.8 ;  PROC EXPORT data=testdata         outfile=\"~/sas_test/testdata.csv\"         dbms=csv         replace; RUN; %RunScriptFromR(program=\"~/sas_test/run_test.R\"); PROC IMPORT datafile=\"~/sas_test/testdata_output.csv\"     dbms=csv     out=test_output; RUN;"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Susie Jentoft. Author, maintainer. Sindre Haugen. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Jentoft S, Haugen S (2024). fellesr: General R functions SSB. R package version 0.2.4, https://statisticsnorway.github.io/fellesr/.","code":"@Manual{,   title = {fellesr: General R functions for SSB},   author = {Susie Jentoft and Sindre Haugen},   year = {2024},   note = {R package version 0.2.4},   url = {https://statisticsnorway.github.io/fellesr/}, }"},{"path":"/index.html","id":"fellesfunksjoner-i-r-for-ssb-fellesr","dir":"","previous_headings":"","what":"General R functions for SSB","title":"General R functions for SSB","text":"finner du en rekke funksjoner laget å løse problemstillinger som er vanlige SSB. Pakken kan installeres et renv-miljø Jupyterlab (på DAPLA og prodsonen) og RStudio Server (prodsonen). Følgende kode vil sette opp et renv-miljø og installere fellesr-pakken. Dette skal kun gjøres én gang per prosjekt. Les mer om hvordan å opprette et virtuelt miljø med renv Dapla-manualen å ta bruk funksjoner fellesr må du kalle biblioteket med Se «Articles» på fellesr nettsiden eller finner du en oppsummering nedenfor med linker å velge emner. Pakken fellesr inneholder følgende funksjoner:","code":"renv::init() renv::install(\"statisticsnorway/fellesr\") library(fellesr)"},{"path":"/index.html","id":"produksjonssonen","dir":"","previous_headings":"","what":"Produksjonssonen","title":"General R functions for SSB","text":"Uttrekk fra Dynarev R (dynarev_uttrekk) Laste opp data til Statistikkbanken (statbank_lasting) Kjøre shiny og esquisse (runApp_ssb, runExample_ssb, esquisser_ssb)","code":""},{"path":"/index.html","id":"dapla","dir":"","previous_headings":"","what":"DAPLA","title":"General R functions for SSB","text":"Lese inn og skrive filer på DAPLA (read_SSB, write_SSB, gcs_bucket, list.files) Laste opp data til Statistikkbanken (statbank_lasting) Kjøre shiny og esquisse (runApp_ssb, runExample_ssb, esquisser_ssb)","code":""},{"path":"/index.html","id":"visualisering","dir":"","previous_headings":"","what":"Visualisering","title":"General R functions for SSB","text":"SSB theme ggplot SSB fargepallet fra KLASS","code":""},{"path":"/index.html","id":"andre-pakker-laget-for-bruk-i-ssb","dir":"","previous_headings":"","what":"Andre pakker laget for bruk i SSB","title":"General R functions for SSB","text":"tillegg til fellesr har det blitt laget flere pakker bruk SSB. følger en foreløpig oversikt. Dersom du har laget en funksjon eller en pakke og ønsker å få lagt den til fellesr eller listen er det bare å ta kontakt. PxWebApiData - Statistikkbankens API klassR - KLASS API SSBtools SmallCountRounding GaussSuppression GISSB - Nettverksanalyse R Kostra struktuR SSBpris SdcForetakPerson SSBcellKey easySdcTable CalibrateSSB RegSDC","code":""},{"path":"/index.html","id":"kursmateriell-veiledning-og-tips","dir":"","previous_headings":"","what":"Kursmateriell, veiledning og tips","title":"General R functions for SSB","text":"kurs-r-nybegynner-jupyter kurs-r-viderekomne Metodebiblioteket R grunnkurs R viderekomne R produksjon Bruk av renv pakke installering Hvordan å bygge en tilleggspakke Generelle veiledning til R programmering SSB databehandling med dplyr jukseark Kjøre R fra SAS","code":""},{"path":"/index.html","id":"eksempler-på-produksjonsløp-i-r","dir":"","previous_headings":"","what":"Eksempler på produksjonsløp i R","title":"General R functions for SSB","text":"Spesialisthelsetjenesten - Personell Verdsettelsesmodell-fritidsbolig","code":""},{"path":"/reference/add_branch_protect.html","id":null,"dir":"Reference","previous_headings":"","what":"Add branch protections — add_branch_protect","title":"Add branch protections — add_branch_protect","text":"Add branch protections","code":""},{"path":"/reference/add_branch_protect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add branch protections — add_branch_protect","text":"","code":"add_branch_protect(prefixed_name, branch = \"main\")"},{"path":"/reference/add_branch_protect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add branch protections — add_branch_protect","text":"prefixed_name Name project including prefix branch Name github branch protect","code":""},{"path":"/reference/add_github_actions.html","id":null,"dir":"Reference","previous_headings":"","what":"Add in github actions — add_github_actions","title":"Add in github actions — add_github_actions","text":"Add github actions","code":""},{"path":"/reference/add_github_actions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add in github actions — add_github_actions","text":"","code":"add_github_actions(path, type = \"package\")"},{"path":"/reference/add_github_actions_offline.html","id":null,"dir":"Reference","previous_headings":"","what":"Offline version of adding in github actions — add_github_actions_offline","title":"Offline version of adding in github actions — add_github_actions_offline","text":"Offline version adding github actions","code":""},{"path":"/reference/add_github_actions_offline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Offline version of adding in github actions — add_github_actions_offline","text":"","code":"add_github_actions_offline()"},{"path":"/reference/create_project_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Create project file — create_project_file","title":"Create project file — create_project_file","text":"Create project file","code":""},{"path":"/reference/create_project_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create project file — create_project_file","text":"","code":"create_project_file(path, prefixed_name, project_type = \"package\")"},{"path":"/reference/create_project_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create project file — create_project_file","text":"path new project set prefixed_name Name package including ssb- stat- prefix project_type Whether project package (\"package\") project (\"project\").","code":""},{"path":"/reference/dynarev_uttrekk.html","id":null,"dir":"Reference","previous_headings":"","what":"Uttrekk fra Dynarev til R — dynarev_uttrekk","title":"Uttrekk fra Dynarev til R — dynarev_uttrekk","text":"Funksjonen dynarev_uttrekk henter inn data fra Dynarev til R så lenge man oppgir delregisternummer (og ev. skjemanavn). Det er kun enheter som er satt som aktive (AKTIV = 1) som blir lastet ned. Det er mulig å hente skjemadata (variablene selve skjemaet) og SFU-data (enhetsinformasjon). Man kan også gjennomføre dublettsjekker og velge mellom reviderte data og rådata.","code":""},{"path":"/reference/dynarev_uttrekk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Uttrekk fra Dynarev til R — dynarev_uttrekk","text":"","code":"dynarev_uttrekk(   delregnr,   skjema = T,   enhets_type = c(\"FRTK\", \"BEDR\"),   skjema_cols = T,   sfu_cols = F,   skjema_sfu_merge = F,   dublettsjekk = F,   con_ask = T,   raadata = F )"},{"path":"/reference/dynarev_uttrekk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Uttrekk fra Dynarev til R — dynarev_uttrekk","text":"delregnr Numerisk vektor med delregisternummer. skjema Boolsk/karaktervektor med skjemanavn. Hvis TRUE returneres alle skjema valgt delregister. enhets_type Karaktervektor med enhetstype (f.eks. BEDR og/eller FRTK). skjema_cols Boolsk/karaktervektor. Hvis TRUE henter man alle variabler fra skjema. Hvis FALSE henter man ikke skjemadata, kun SFU-data (hvis skjema_cols = TRUE). Det er også mulig å lage en vektor/liste av variabelnavn, f.eks. skjema_cols = c(\"variabel1\", \"variabel2\"), dersom man kun vil ha utvalgte variabler fra skjema. sfu_cols Boolsk/karaktervektor. Hvis TRUE blir alle variabler fra SFU valgt delregister og skjema inkludert. å kun velge én eller flere variabler fra SFU skrives disse en vektor/liste, f.eks. sfu_cols = c(\"variabel1\", \"variabel2\"). skjema_sfu_merge Boolsk. Hvis TRUE blir skjemadataene og SFU-dataene merget. Dersom FALSE blir dataene hentet som separate datasett en liste; [1] skjemadata og [2] SFU-data. dublettsjekk Boolsk/karaktervektor. Hvis TRUE sjekkes det dubletter skjemadata etter ENHETS_ID. Dersom man ønsker å sjekke dubletter etter én eller flere selvvalgte variabler skrives disse en vektor, f.eks. dublettsjekk = c(\"variabel1\", \"variabel2\"). Liste med datasett returneres; [1] skjemadata og [2] dublettdata (dersom det finnes dubletter, hvis ikke er denne blank). con_ask Boolsk/karaktervektor. Hvis TRUE får man opp en boks som spør etter Oracle-passord. Hvis FALSE spørres det ikke om passord. Ved å skrive dynarev_uttrekk(con_ask = \"con\") får man opp en boks som spør etter Oracle-passord og kun koblingen mot Oracle blir returnert (ikke data). Denne kan brukes dersom man skal lese inn flere skjema etter hverandre å unngå å skrive inn passordet flere ganger. raadata Boolsk. Hvis FALSE returneres reviderte data (fra FELT_VERDI), TRUE returnerer rådata.","code":""},{"path":"/reference/dynarev_uttrekk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Uttrekk fra Dynarev til R — dynarev_uttrekk","text":"Objekt (data.frame) med valgt data fra Dynarev, dersom enten skjema_cols eller sfu_cols = TRUE. Om både skjema_cols og sfu_cols = TRUE returneres en liste med datasett [1] skjema_cols og [2] sfu_cols. Om skjema_cols, sfu_cols og skjema_sfu_merge = TRUE returneres det ett objekt (data.frame). Dersom con_ask = \"con\" returneres kun kobling mot Oracle.","code":""},{"path":"/reference/dynarev_uttrekk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Uttrekk fra Dynarev til R — dynarev_uttrekk","text":"","code":"if (FALSE) { dynarev <- dynarev_uttrekk(delregnr = 2421,                           skjema = \"HELSE41\",                           skjema_cols = T) }"},{"path":"/reference/env_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa sjekke hvilket miljoe man er i — env_check","title":"Funksjon for aa sjekke hvilket miljoe man er i — env_check","text":"env_check er en hjelpefunksjon som sjekker hvilket miljø man er . DAPLA_ENVIRONMENT: Angir miljøet (DEV, STAGING, TEST, PROD), DAPLA_REGION: Viser kjøreområdet (ON_PREM, DAPLA_LAB, BIP, CLOUD_RUN) og DAPLA_SERVICE: Identifiserer tjenesten (JUPYTERLAB, VS_CODE, R_STUDIO, KILDOMATEN).","code":""},{"path":"/reference/env_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa sjekke hvilket miljoe man er i — env_check","text":"","code":"env_check()"},{"path":"/reference/env_check.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Funksjon for aa sjekke hvilket miljoe man er i — env_check","text":"Karaktervektor: f.eks. PROD-ON_PREM-JUPYTERLAB eller PROD-BIP-JUPYTERLAB","code":""},{"path":"/reference/env_check.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa sjekke hvilket miljoe man er i — env_check","text":"","code":"if (FALSE) { env_check() }"},{"path":"/reference/esquisser_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for running esquisse in Jupyter at SSB — esquisser_ssb","title":"Wrapper function for running esquisse in Jupyter at SSB — esquisser_ssb","text":"Wrapper function running esquisse Jupyter SSB","code":""},{"path":"/reference/esquisser_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for running esquisse in Jupyter at SSB — esquisser_ssb","text":"","code":"esquisser_ssb(data, ...)"},{"path":"/reference/esquisser_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for running esquisse in Jupyter at SSB — esquisser_ssb","text":"data Data frame use plotting ... Additional parameters send esquisser()","code":""},{"path":"/reference/esquisser_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for running esquisse in Jupyter at SSB — esquisser_ssb","text":"None","code":""},{"path":"/reference/fix_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix files by replacement of holders — fix_file","title":"Fix files by replacement of holders — fix_file","text":"Fix files replacement holders","code":""},{"path":"/reference/fix_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix files by replacement of holders — fix_file","text":"","code":"fix_file(destination, file, find, replace)"},{"path":"/reference/fix_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fix files by replacement of holders — fix_file","text":"destination file stored file Target file find Term find replace Replacement term","code":""},{"path":"/reference/fix_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Fix several files — fix_files","title":"Fix several files — fix_files","text":"Fix several files","code":""},{"path":"/reference/fix_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fix several files — fix_files","text":"","code":"fix_files(   path,   package_name,   prefixed_name,   description,   firstname,   surname,   email,   type = \"package\" )"},{"path":"/reference/gcs.list.files.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa sjekke hvilke filer som finnes i en mappe i en Google Cloud Storage bucket — gcs.list.files","title":"Funksjon for aa sjekke hvilke filer som finnes i en mappe i en Google Cloud Storage bucket — gcs.list.files","text":"Funksjonen gcs.list.files kan brukes til aa sjekke hvilke filer som finnes en Google Cloud Storage bucket","code":""},{"path":"/reference/gcs.list.files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa sjekke hvilke filer som finnes i en mappe i en Google Cloud Storage bucket — gcs.list.files","text":"","code":"gcs.list.files(bucket)"},{"path":"/reference/gcs.list.files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa sjekke hvilke filer som finnes i en mappe i en Google Cloud Storage bucket — gcs.list.files","text":"bucket Full sti til Google Cloud Storage bucket (med eventuelle undermapper).","code":""},{"path":"/reference/gcs.list.files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa sjekke hvilke filer som finnes i en mappe i en Google Cloud Storage bucket — gcs.list.files","text":"","code":"if (FALSE) { gcs.list.files(\"ssb-prod-dapla-felles-data-delt/R_smoke_test\") }"},{"path":"/reference/gcs_bucket.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa koble til Google Cloud Storage bucket med arrow — gcs_bucket","title":"Funksjon for aa koble til Google Cloud Storage bucket med arrow — gcs_bucket","text":"gcs_bucket er en hjelpefunksjon som kobler til en bucket paa Google Cloud Storage med pakken arrow. Autentiseringen skjer via access_token og expiration som er lagret som miljoevariabler Jupyter paa DAPLA.","code":""},{"path":"/reference/gcs_bucket.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa koble til Google Cloud Storage bucket med arrow — gcs_bucket","text":"","code":"gcs_bucket(bucket)"},{"path":"/reference/gcs_bucket.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa koble til Google Cloud Storage bucket med arrow — gcs_bucket","text":"bucket Full sti til Google Cloud Storage bucket.","code":""},{"path":"/reference/gcs_bucket.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa koble til Google Cloud Storage bucket med arrow — gcs_bucket","text":"","code":"if (FALSE) { bucket <- gcs_bucket(\"ssb-prod-dapla-felles-data-delt\") bucket }"},{"path":"/reference/gcs_delete_object.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa slette fil fra en Google Cloud Storage bucket — gcs_delete_object","title":"Funksjon for aa slette fil fra en Google Cloud Storage bucket — gcs_delete_object","text":"Funksjonen gcs_delete_object kan brukes til aa slette filer fra Google Cloud Storage bucket.","code":""},{"path":"/reference/gcs_delete_object.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa slette fil fra en Google Cloud Storage bucket — gcs_delete_object","text":"","code":"gcs_delete_object(file)"},{"path":"/reference/gcs_delete_object.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa slette fil fra en Google Cloud Storage bucket — gcs_delete_object","text":"file Full sti til Google Cloud Storage bucket og filen som skal slettes.","code":""},{"path":"/reference/gcs_delete_object.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa slette fil fra en Google Cloud Storage bucket — gcs_delete_object","text":"","code":"if (FALSE) { gcs_delete_object(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.parquet\") }"},{"path":"/reference/gcs_global_bucket.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa koble til Google Cloud Storage bucket med googleCloudStorageR — gcs_global_bucket","title":"Funksjon for aa koble til Google Cloud Storage bucket med googleCloudStorageR — gcs_global_bucket","text":"gcs_global_bucket er en hjelpefunksjon som kobler til en bucket paa Google Cloud Storage med pakken googleCloudStorageR. Autentiseringen skjer via access_token og expiration som er lagret som miljoevariabler Jupyter paa DAPLA.","code":""},{"path":"/reference/gcs_global_bucket.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa koble til Google Cloud Storage bucket med googleCloudStorageR — gcs_global_bucket","text":"","code":"gcs_global_bucket(bucket)"},{"path":"/reference/gcs_global_bucket.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa koble til Google Cloud Storage bucket med googleCloudStorageR — gcs_global_bucket","text":"bucket Full sti til Google Cloud Storage bucket.","code":""},{"path":"/reference/gcs_global_bucket.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa koble til Google Cloud Storage bucket med googleCloudStorageR — gcs_global_bucket","text":"","code":"if (FALSE) { gcs_global_bucket(\"ssb-prod-dapla-felles-data-delt\") bucket }"},{"path":"/reference/gcs_list_objects.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa sjekke hvilke filer som finnes i en Google Cloud Storage bucket — gcs_list_objects","title":"Funksjon for aa sjekke hvilke filer som finnes i en Google Cloud Storage bucket — gcs_list_objects","text":"Funksjonen gcs_list_objects kan brukes til aa sjekke hvilke filer som finnes en Google Cloud Storage bucket. tillegg ser man stoerrelsen til filene og tidspnktet filen sist ble endret.","code":""},{"path":"/reference/gcs_list_objects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa sjekke hvilke filer som finnes i en Google Cloud Storage bucket — gcs_list_objects","text":"","code":"gcs_list_objects(bucket)"},{"path":"/reference/gcs_list_objects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa sjekke hvilke filer som finnes i en Google Cloud Storage bucket — gcs_list_objects","text":"bucket Full sti til Google Cloud Storage bucket.","code":""},{"path":"/reference/gcs_list_objects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa sjekke hvilke filer som finnes i en Google Cloud Storage bucket — gcs_list_objects","text":"","code":"if (FALSE) { gcs_list_objects(\"ssb-prod-dapla-felles-data-delt\")  gcs_list_objects(\"ssb-prod-dapla-felles-data-delt\") %>% dplyr::filter(grepl(\"GIS\", name) == T) dplyr::arrange(desc(updated))  }"},{"path":"/reference/get_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Copy files from standard template — get_files","title":"Copy files from standard template — get_files","text":"Copy files standard template","code":""},{"path":"/reference/get_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Copy files from standard template — get_files","text":"","code":"get_files(path, project_type)"},{"path":"/reference/get_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Copy files from standard template — get_files","text":"path Path new project project_type Type project. Choose \"project\" \"package\".","code":""},{"path":"/reference/get_standard_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Download standard files — get_standard_files","title":"Download standard files — get_standard_files","text":"Download standard files","code":""},{"path":"/reference/get_standard_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download standard files — get_standard_files","text":"","code":"get_standard_files(path)"},{"path":"/reference/get_standard_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download standard files — get_standard_files","text":"path Path new project set ","code":""},{"path":"/reference/get_standard_files_offline.html","id":null,"dir":"Reference","previous_headings":"","what":"Copy project files — get_standard_files_offline","title":"Copy project files — get_standard_files_offline","text":"Copy standard file new project without accessing github standard files","code":""},{"path":"/reference/get_standard_files_offline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Copy project files — get_standard_files_offline","text":"","code":"get_standard_files_offline(path)"},{"path":"/reference/get_standard_files_offline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Copy project files — get_standard_files_offline","text":"path Path new project set ","code":""},{"path":"/reference/initialer_funk.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","title":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","text":"Funksjonen initialer_funk henter initialene til brukeren som er paalogget Jupyterlab/RStudio.","code":""},{"path":"/reference/initialer_funk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","text":"","code":"initialer_funk(lastefil)"},{"path":"/reference/initialer_funk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","text":"lastefil Navn av fil til å laste opp","code":""},{"path":"/reference/initialer_funk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","text":"Karaktervektor med initialer (vanligvis tre siffer)","code":""},{"path":"/reference/initialer_funk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa hente initialene til paalogget bruker — initialer_funk","text":"","code":"if (FALSE) { initialer_funk() }"},{"path":"/reference/open_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn ","title":"Funksjon for aa laste inn ","text":"Funksjonen open_dataset kan brukes til aa lese deler av datasett (bl.. .parquet-, .feather- og .csv-filer) fra Google Cloud Storage. Det lages en forbindelse til mappen der filen ligger og deretter kan man bruke argumenter fra dplyr, som filter og select, foer man bruker collect til aa lese inn dataene R. open_dataset kan ogsaa brukes til aa lese inn sf-objekter (lagret som .parquet-fil med pakken sfarrow).","code":""},{"path":"/reference/open_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn ","text":"","code":"open_dataset(file, ...)"},{"path":"/reference/open_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn ","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/open_dataset.html)","code":""},{"path":"/reference/open_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn ","text":"","code":"if (FALSE) { data <- open_dataset(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987_1996_dataset\") %>%  dplyr::filter(Year == 1996 & TailNum == \"N2823W\") %>%  dplyr::select(Year, Month, DayofMonth, TailNum) %>%  dplyr::collect()  data <- open_dataset(\"ssb-prod-dapla-felles-data-delt/GIS/Vegnett/2022\") %>%  dplyr::filter(municipality == \"301\") %>%  sfarrow::read_sf_dataset()  }"},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"/reference/read_SSB.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn filer fra Google Cloud Storage bucket — read_SSB","title":"Funksjon for aa laste inn filer fra Google Cloud Storage bucket — read_SSB","text":"Funksjonen read_SSB kan brukes til aa lese inn filer fra Google Cloud Storage. Funksjonen stoetter .parquet- (inkludert sf-objekter), .feather-, .rds- og .csv-, .xml- og .json-filer.","code":""},{"path":"/reference/read_SSB.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn filer fra Google Cloud Storage bucket — read_SSB","text":"","code":"read_SSB(file, sf = FALSE, ...)"},{"path":"/reference/read_SSB.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn filer fra Google Cloud Storage bucket — read_SSB","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. sf Boolsk. Standardverdi er FALSE. Sett sf = TRUE dersom .parquet-filen er et sf-objekt. ... Flere parametere (se dokumentasjonen til: read_parquet()/open_dataset()/read_feather()/read_csv()/read_rds()/read_parquet())","code":""},{"path":"/reference/read_SSB.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn filer fra Google Cloud Storage bucket — read_SSB","text":"","code":"if (FALSE) { read_SSB_parquet <- read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.parquet\")  read_SSB_MFD <- read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987_1996_dataset\")  read_SSB_feather <- read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.feather\")  read_SSB_csv <- read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.csv\")  read_SSB_rds <- read_SSB(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.rds\")  read_SSB_json <- read_SSB(\"ssb-prod-spesh-personell-data-kilde/example_1.json\")  read_SSB_xml <- read_SSB(\"ssb-prod-spesh-personell-data-kilde/XXX.xml\")  }"},{"path":"/reference/read_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .csv-fil fra Google Cloud Storage bucket — read_csv","title":"Funksjon for aa laste inn .csv-fil fra Google Cloud Storage bucket — read_csv","text":"Funksjonen read_csv kan brukes til aa lese inn .csv-filer Google Cloud Storage.","code":""},{"path":"/reference/read_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .csv-fil fra Google Cloud Storage bucket — read_csv","text":"","code":"read_csv(file, ...)"},{"path":"/reference/read_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .csv-fil fra Google Cloud Storage bucket — read_csv","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_delim_arrow.html)","code":""},{"path":"/reference/read_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .csv-fil fra Google Cloud Storage bucket — read_csv","text":"","code":"if (FALSE) { data <- read_csv(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.csv\") }"},{"path":"/reference/read_feather.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .feather-fil fra Google Cloud Storage bucket — read_feather","title":"Funksjon for aa laste inn .feather-fil fra Google Cloud Storage bucket — read_feather","text":"Funksjonen read_feather kan brukes til aa lese inn .feather-filer fra Google Cloud Storage.","code":""},{"path":"/reference/read_feather.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .feather-fil fra Google Cloud Storage bucket — read_feather","text":"","code":"read_feather(file, ...)"},{"path":"/reference/read_feather.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .feather-fil fra Google Cloud Storage bucket — read_feather","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_feather.html)","code":""},{"path":"/reference/read_feather.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .feather-fil fra Google Cloud Storage bucket — read_feather","text":"","code":"if (FALSE) { data <- read_feather(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.feather\") }"},{"path":"/reference/read_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .json-fil fra Google Cloud Storage — read_json","title":"Funksjon for aa laste inn .json-fil fra Google Cloud Storage — read_json","text":"Funksjonen read_json kan brukes til aa lese inn .json-filer Google Cloud Storage.","code":""},{"path":"/reference/read_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .json-fil fra Google Cloud Storage — read_json","text":"","code":"read_json(file, ...)"},{"path":"/reference/read_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .json-fil fra Google Cloud Storage — read_json","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_json_arrow.html)","code":""},{"path":"/reference/read_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .json-fil fra Google Cloud Storage — read_json","text":"","code":"if (FALSE) { data <- read_json(\"ssb-prod-spesh-personell-data-kilde/example_1.json\") }"},{"path":"/reference/read_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .parquet-fil fra Google Cloud Storage bucket — read_parquet","title":"Funksjon for aa laste inn .parquet-fil fra Google Cloud Storage bucket — read_parquet","text":"Funksjonen read_parquet kan brukes til aa lese inn .parquet-filer fra Google Cloud Storage.","code":""},{"path":"/reference/read_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .parquet-fil fra Google Cloud Storage bucket — read_parquet","text":"","code":"read_parquet(file, ...)"},{"path":"/reference/read_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .parquet-fil fra Google Cloud Storage bucket — read_parquet","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_parquet.html)","code":""},{"path":"/reference/read_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .parquet-fil fra Google Cloud Storage bucket — read_parquet","text":"","code":"if (FALSE) { data <- read_parquet(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.parquet\") }"},{"path":"/reference/read_parquet_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .parquet-fil (i sf-format) fra Google Cloud Storage bucket — read_parquet_sf","title":"Funksjon for aa laste inn .parquet-fil (i sf-format) fra Google Cloud Storage bucket — read_parquet_sf","text":"Funksjonen read_parquet_sf kan brukes til aa lese inn .parquet-filer (sf-format) fra Google Cloud Storage.","code":""},{"path":"/reference/read_parquet_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .parquet-fil (i sf-format) fra Google Cloud Storage bucket — read_parquet_sf","text":"","code":"read_parquet_sf(file, ...)"},{"path":"/reference/read_parquet_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .parquet-fil (i sf-format) fra Google Cloud Storage bucket — read_parquet_sf","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_parquet.html)","code":""},{"path":"/reference/read_parquet_sf.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .parquet-fil (i sf-format) fra Google Cloud Storage bucket — read_parquet_sf","text":"","code":"if (FALSE) { data <- read_parquet_sf(\"ssb-prod-dapla-felles-data-delt/GIS/testdata/veger_oslo.parquet\") }"},{"path":"/reference/read_rds.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .rds-fil fra Google Cloud Storage bucket — read_rds","title":"Funksjon for aa laste inn .rds-fil fra Google Cloud Storage bucket — read_rds","text":"Funksjonen read_rds kan brukes til aa lese inn .rds-filer fra Google Cloud Storage.","code":""},{"path":"/reference/read_rds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .rds-fil fra Google Cloud Storage bucket — read_rds","text":"","code":"read_rds(file, ...)"},{"path":"/reference/read_rds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .rds-fil fra Google Cloud Storage bucket — read_rds","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://rdrr.io/cran/googleCloudStorageR/man/gcs_get_object.html)","code":""},{"path":"/reference/read_rds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .rds-fil fra Google Cloud Storage bucket — read_rds","text":"","code":"if (FALSE) { data <- read_rds(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/1987.rds\") }"},{"path":"/reference/read_xml.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste inn .xml-fil fra Google Cloud Storage bucket — read_xml","title":"Funksjon for aa laste inn .xml-fil fra Google Cloud Storage bucket — read_xml","text":"Funksjonen read_xml kan brukes til aa lese inn .xml-filer fra Google Cloud Storage.","code":""},{"path":"/reference/read_xml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste inn .xml-fil fra Google Cloud Storage bucket — read_xml","text":"","code":"read_xml(file, ...)"},{"path":"/reference/read_xml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste inn .xml-fil fra Google Cloud Storage bucket — read_xml","text":"file Full sti og navn paa filen som skal leses inn fra Google Cloud Storage bucket. ... Flere parametere (se: https://rdrr.io/cran/googleCloudStorageR/man/gcs_get_object.html)","code":""},{"path":"/reference/read_xml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste inn .xml-fil fra Google Cloud Storage bucket — read_xml","text":"","code":"if (FALSE) { data <- read_xml(\"ssb-prod-dapla-felles-data-delt/R_smoke_test/XXX.xml\") }"},{"path":"/reference/runApp_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for running shiny apps in Jupyter at SSB — runApp_ssb","title":"Wrapper function for running shiny apps in Jupyter at SSB — runApp_ssb","text":"Wrapper function running shiny apps Jupyter SSB","code":""},{"path":"/reference/runApp_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for running shiny apps in Jupyter at SSB — runApp_ssb","text":"","code":"runApp_ssb(...)"},{"path":"/reference/runApp_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for running shiny apps in Jupyter at SSB — runApp_ssb","text":"... Parameters send runApp()","code":""},{"path":"/reference/runApp_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for running shiny apps in Jupyter at SSB — runApp_ssb","text":"None","code":""},{"path":"/reference/runExample_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper function for running exampleshiny apps in Jupyter at SSB — runExample_ssb","title":"Wrapper function for running exampleshiny apps in Jupyter at SSB — runExample_ssb","text":"Wrapper function running exampleshiny apps Jupyter SSB","code":""},{"path":"/reference/runExample_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper function for running exampleshiny apps in Jupyter at SSB — runExample_ssb","text":"","code":"runExample_ssb(example = NA, ...)"},{"path":"/reference/runExample_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper function for running exampleshiny apps in Jupyter at SSB — runExample_ssb","text":"example Example shiny run ... Parameters send runExample()","code":""},{"path":"/reference/runExample_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper function for running exampleshiny apps in Jupyter at SSB — runExample_ssb","text":"None","code":""},{"path":"/reference/safe_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Add test data to safe list — safe_data","title":"Add test data to safe list — safe_data","text":"Add test data safe list","code":""},{"path":"/reference/safe_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add test data to safe list — safe_data","text":"","code":"safe_data()"},{"path":"/reference/scale_colour_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Create continuous SSB colours — scale_colour_ssb","title":"Create continuous SSB colours — scale_colour_ssb","text":"Create continuous SSB colours","code":""},{"path":"/reference/scale_colour_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create continuous SSB colours — scale_colour_ssb","text":"","code":"scale_colour_ssb(name = \"main\")"},{"path":"/reference/scale_colour_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create continuous SSB colours — scale_colour_ssb","text":"name Name palette use. Default 'main'. Choose : 'main', greens', 'blues', 'primary', 'secondary', 'shade1', 'shade2','shade3', 'shade4', 'shade5'","code":""},{"path":"/reference/scale_colour_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create continuous SSB colours — scale_colour_ssb","text":"ggproto object using ggplot change continuus colours","code":""},{"path":"/reference/scale_fill_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Create discete SSB colours — scale_fill_ssb","title":"Create discete SSB colours — scale_fill_ssb","text":"Create discete SSB colours","code":""},{"path":"/reference/scale_fill_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create discete SSB colours — scale_fill_ssb","text":"","code":"scale_fill_ssb(name = \"main\")"},{"path":"/reference/scale_fill_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create discete SSB colours — scale_fill_ssb","text":"name Name palette use. Default 'main'. Choose : 'main', greens', 'blues', 'primary', 'secondary', 'shade1', 'shade2','shade3', 'shade4', 'shade5'","code":""},{"path":"/reference/scale_fill_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create discete SSB colours — scale_fill_ssb","text":"ggproto object using ggplot change discrete colours","code":""},{"path":"/reference/ssb_colours.html","id":null,"dir":"Reference","previous_headings":"","what":"Get SSB colours from KLASS — ssb_colours","title":"Get SSB colours from KLASS — ssb_colours","text":"Get SSB colours KLASS","code":""},{"path":"/reference/ssb_colours.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get SSB colours from KLASS — ssb_colours","text":"","code":"ssb_colours()"},{"path":"/reference/ssb_colours.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get SSB colours from KLASS — ssb_colours","text":"List names vector colours","code":""},{"path":"/reference/ssb_palettes.html","id":null,"dir":"Reference","previous_headings":"","what":"Create SSB palette — ssb_palettes","title":"Create SSB palette — ssb_palettes","text":"Create SSB palette","code":""},{"path":"/reference/ssb_palettes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create SSB palette — ssb_palettes","text":"","code":"ssb_palettes(name, n, type = c(\"discrete\", \"continuous\"))"},{"path":"/reference/ssb_palettes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create SSB palette — ssb_palettes","text":"name Name palette n Number colours type Type data. Can \"discrete\" \"continuous\"","code":""},{"path":"/reference/ssb_palettes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create SSB palette — ssb_palettes","text":"Vector colours","code":""},{"path":"/reference/ssb_rproject.html","id":null,"dir":"Reference","previous_headings":"","what":"SSB package template — ssb_rproject","title":"SSB package template — ssb_rproject","text":"Create R package standard SSB format","code":""},{"path":"/reference/ssb_rproject.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SSB package template — ssb_rproject","text":"","code":"ssb_rproject(path, description, firstname, surname, github)"},{"path":"/reference/ssb_rproject.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SSB package template — ssb_rproject","text":"path package created. description short description package . firstname First name author surname Surname Author github Boolean whether create github repository package. Default = TRUE","code":""},{"path":"/reference/ssb_rtemplate.html","id":null,"dir":"Reference","previous_headings":"","what":"SSB package template — ssb_rtemplate","title":"SSB package template — ssb_rtemplate","text":"Create R package standard SSB format","code":""},{"path":"/reference/ssb_rtemplate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SSB package template — ssb_rtemplate","text":"","code":"ssb_rtemplate(path, description, firstname, surname, github)"},{"path":"/reference/ssb_rtemplate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SSB package template — ssb_rtemplate","text":"path package created. description short description package . firstname First name author surname Surname Author github Boolean whether create github repository package. Default = TRUE","code":""},{"path":"/reference/statbank_lasting.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa laste opp data fra Jupyterlab til Statistikkbanken — statbank_lasting","title":"Funksjon for aa laste opp data fra Jupyterlab til Statistikkbanken — statbank_lasting","text":"Funksjonen statbank_lasting laster opp data fra Jupyterlab til Statistikkbanken. Det er mulig aa laste opp objekter direkte eller ved aa oppgi filsti til en eller flere .parquet-filer som er lagret en Google Cloud Storage bucket (DAPLA) eller paa Linux (produksjonssonen).","code":""},{"path":"/reference/statbank_lasting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa laste opp data fra Jupyterlab til Statistikkbanken — statbank_lasting","text":"","code":"statbank_lasting(   lastefil,   lastefilsti = \"\",   tabell_id,   laste_bruker,   publiseringsdato,   initialer = initialer_funk(),   autooverskriv = 1,   autogodkjenn = 2,   boundary = 12345,   ask = TRUE,   username_encryptedpassword = \"\",   validering = TRUE )"},{"path":"/reference/statbank_lasting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa laste opp data fra Jupyterlab til Statistikkbanken — statbank_lasting","text":"lastefil Objekt eller en liste med objekter som inneholder dataene som skal lastes opp. Det er ogsaa mulig aa oppgi en karaktervektor med filnavn til .parquet-filer lagret en Google Cloud Storage bucket (DAPLA) eller paa Linux (produksjonssonen). Filstien oppgis lastefilsti. lastefilsti Karaktervektor med filsti til en Google Cloud Storage bucket hvor lastefilene (.parquet) er plassert. Dersom man laster opp objekter direkte kan denne staa blank. tabell_id Karaktervektor med tabell ID til tabellen som det skal lastes opp data til. laste_bruker Karaktervektor med seksjonens lastebruker. publiseringsdato Karaktervektor med publiseringsdato. Formatet skal vaere \"YYYY-MM-DD\". initialer Karaktervektor med initialer til personen som laster opp dataene (og som mottar e-post med lastelogg). Initialer hentes fra miljoevariabel Jupyter saa dersom det ikke er en annen person enn brukeren som kjoerer programmet som skal motta e-post kan denne staa blank. autooverskriv Numerisk vektor. Standardverdi er satt til 1. autogodkjenn Numerisk vektor. 0: manuell, 1: automatisk (umiddelbart), 2: JIT (just--time). Standardverdi er satt til 2. boundary Numerisk vektor med tallverdien som skiller de ulike filene opplastningen. Trenger ikke aa endres. ask Boolsk. Hvis TRUE blir man spurt om passord til lastebrukeren. Hvis FALSE maa username_encryptedpassword foerst vaere laget med funksjonen statbank_encrypt_request. username_encryptedpassword Passord som er encryptert. validering Boolsk. Valideringssjekk aa oppdage vanlige lastefeil foer tabellen lastes opp.","code":""},{"path":"/reference/statbank_lasting.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa laste opp data fra Jupyterlab til Statistikkbanken — statbank_lasting","text":"","code":"if (FALSE) { transfer_log <- statbank_lasting(lastefil = roykalderkj1,                                  tabell_id = \"05307\",                                  laste_bruker = \"LAST330\",                                  publiseringsdato = \"2022-12-31\") transfer_log  transfer_log <- statbank_lasting(lastefil = \"roykalderkj1.parquet\",                                  lastefilsti = \"ssb-prod-spesh-personell-data-kilde\",                                  tabell_id = \"05307\",                                  laste_bruker = \"LAST330\",                                  publiseringsdato = \"2022-12-31\") transfer_log }"},{"path":"/reference/statbank_uttaksbeskrivelse.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa hente uttaksbeskrivelsen til en statistikkbanktabell — statbank_uttaksbeskrivelse","title":"Funksjon for aa hente uttaksbeskrivelsen til en statistikkbanktabell — statbank_uttaksbeskrivelse","text":"Funksjonen statbank_uttaksbeskrivelse henter uttaksbeskrivelsen til en statistikkbanktabell.","code":""},{"path":"/reference/statbank_uttaksbeskrivelse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa hente uttaksbeskrivelsen til en statistikkbanktabell — statbank_uttaksbeskrivelse","text":"","code":"statbank_uttaksbeskrivelse(   tabell_id,   laste_bruker,   ask = TRUE,   username_encryptedpassword = \"\",   boundary = 12345 )"},{"path":"/reference/statbank_uttaksbeskrivelse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa hente uttaksbeskrivelsen til en statistikkbanktabell — statbank_uttaksbeskrivelse","text":"tabell_id Karaktervektor med tabell ID til tabellen som det skal lastes opp data til. laste_bruker Karaktervektor med seksjonens lastebruker. ask Boolsk. Hvis TRUE blir man spurt om passord til lastebrukeren. Hvis FALSE maa username_encryptedpassword foerst vaere laget med funksjonen statbank_encrypt_request. username_encryptedpassword Passord som er encryptert. boundary Numerisk vektor med tallverdien som skiller de ulike filene opplastningen. Trenger ikke aa endres.","code":""},{"path":"/reference/statbank_uttaksbeskrivelse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa hente uttaksbeskrivelsen til en statistikkbanktabell — statbank_uttaksbeskrivelse","text":"","code":"if (FALSE) { uttaksbeskrivelse <- statbank_uttaksbeskrivelse(\"13772\", \"LAST330\")  uttaksbeskrivelse$Huvudtabell uttaksbeskrivelse$TabellId uttaksbeskrivelse$DeltabellTitler$Filnavn uttaksbeskrivelse$DeltabellTitler$Filtext # Variabler uttaksbeskrivelse$deltabller$deltabell uttaksbeskrivelse$deltabller$variabler uttaksbeskrivelse$deltabller$statistikkvariabler uttaksbeskrivelse$deltabller$null_prikk_missing uttaksbeskrivelse$deltabller$eksempel_linje  # Kodelister uttaksbeskrivelse$kodelister$kodeliste uttaksbeskrivelse$kodelister$SumIALtTotalKode uttaksbeskrivelse$kodelister$koder }"},{"path":"/reference/theme_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"SSB theme for ggplot — theme_ssb","title":"SSB theme for ggplot — theme_ssb","text":"SSB theme ggplot","code":""},{"path":"/reference/theme_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SSB theme for ggplot — theme_ssb","text":"","code":"theme_ssb()"},{"path":"/reference/theme_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SSB theme for ggplot — theme_ssb","text":"theme object","code":""},{"path":"/reference/theme_ssb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SSB theme for ggplot — theme_ssb","text":"","code":"library(ggplot2) ggplot(mtcars, aes(x=cyl, fill=as.factor(cyl))) + geom_bar( ) + theme_ssb()"},{"path":"/reference/write_SSB.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa skrive filer til Google Cloud Storage bucket — write_SSB","title":"Funksjon for aa skrive filer til Google Cloud Storage bucket — write_SSB","text":"Funksjonen write_SSB kan brukes til aa skrive filer til Google Cloud Storage. Funksjonen stoetter .parquet- (inkludert sf-objekter), .feather-, .rds- og .csv-filer.","code":""},{"path":"/reference/write_SSB.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa skrive filer til Google Cloud Storage bucket — write_SSB","text":"","code":"write_SSB(data, file, partitioning = FALSE, sf = FALSE, ...)"},{"path":"/reference/write_SSB.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa skrive filer til Google Cloud Storage bucket — write_SSB","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. partitioning Boolsk. Skal partisjonering brukes naar fle lagres. sf Boolsk. Standardverdi er FALSE. Sett sf = TRUE dersom filen som skal lagres er et sf-objekt. ... Flere parametere (se dokumentasjonen til: write_parquet()/write_sf_parquet()/write_feather()/write_csv()/write_dataset())","code":""},{"path":"/reference/write_SSB.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa skrive filer til Google Cloud Storage bucket — write_SSB","text":"","code":"if (FALSE) { write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.parquet\")  write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_multifile_dataset_test\",    partitioning = TRUE)  write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.feather\")  write_SSB(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.csv\")  write_rds(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_rds_test.rds\")   }"},{"path":"/reference/write_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre .csv-fil til Google Cloud Storage bucket — write_csv","title":"Funksjon for aa lagre .csv-fil til Google Cloud Storage bucket — write_csv","text":"Funksjonen write_csv kan brukes til aa skrive .csv-filer til Google Cloud Storage bucket.","code":""},{"path":"/reference/write_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre .csv-fil til Google Cloud Storage bucket — write_csv","text":"","code":"write_csv(data, file, ...)"},{"path":"/reference/write_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre .csv-fil til Google Cloud Storage bucket — write_csv","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/read_delim_arrow.html)","code":""},{"path":"/reference/write_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre .csv-fil til Google Cloud Storage bucket — write_csv","text":"","code":"if (FALSE) { write_csv(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.csv\") }"},{"path":"/reference/write_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre ","title":"Funksjon for aa lagre ","text":"Funksjonen write_dataset kan brukes til aa skrive \"partitioned\" .parquet-filer til Google Cloud Storage bucket. \"Partitioning\" angis ut fra hvilke variabler datasettet er gruppert etter (gjoeres via dplyr::group_by()).","code":""},{"path":"/reference/write_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre ","text":"","code":"write_dataset(data, file, ...)"},{"path":"/reference/write_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre ","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/write_dataset.html)","code":""},{"path":"/reference/write_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre ","text":"","code":"if (FALSE) { write_dataset(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_multifile_dataset_test\") }"},{"path":"/reference/write_feather.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre .feather-fil til Google Cloud Storage bucket — write_feather","title":"Funksjon for aa lagre .feather-fil til Google Cloud Storage bucket — write_feather","text":"Funksjonen write_feather kan brukes til aa skrive .feather-filer til Google Cloud Storage bucket.","code":""},{"path":"/reference/write_feather.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre .feather-fil til Google Cloud Storage bucket — write_feather","text":"","code":"write_feather(data, file, ...)"},{"path":"/reference/write_feather.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre .feather-fil til Google Cloud Storage bucket — write_feather","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/write_feather.html)","code":""},{"path":"/reference/write_feather.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre .feather-fil til Google Cloud Storage bucket — write_feather","text":"","code":"if (FALSE) { write_feather(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.feather\") }"},{"path":"/reference/write_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre .parquet-fil til Google Cloud Storage bucket — write_parquet","title":"Funksjon for aa lagre .parquet-fil til Google Cloud Storage bucket — write_parquet","text":"Funksjonen write_parquet kan brukes til aa skrive .parquet-filer til Google Cloud Storage bucket.","code":""},{"path":"/reference/write_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre .parquet-fil til Google Cloud Storage bucket — write_parquet","text":"","code":"write_parquet(data, file, ...)"},{"path":"/reference/write_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre .parquet-fil til Google Cloud Storage bucket — write_parquet","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se: https://arrow.apache.org/docs/r/reference/write_parquet.html)","code":""},{"path":"/reference/write_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre .parquet-fil til Google Cloud Storage bucket — write_parquet","text":"","code":"if (FALSE) { write_parquet(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_test.parquet\") }"},{"path":"/reference/write_rds.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre .rds-fil til Google Cloud Storage bucket — write_rds","title":"Funksjon for aa lagre .rds-fil til Google Cloud Storage bucket — write_rds","text":"Funksjonen write_rds kan brukes til aa skrive .rds-filer til Google Cloud Storage bucket.","code":""},{"path":"/reference/write_rds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre .rds-fil til Google Cloud Storage bucket — write_rds","text":"","code":"write_rds(data, file, ...)"},{"path":"/reference/write_rds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre .rds-fil til Google Cloud Storage bucket — write_rds","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se dokumentasjonen til: write_parquet()/write_sf_parquet()/write_feather()/write_csv()/write_dataset())","code":""},{"path":"/reference/write_rds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre .rds-fil til Google Cloud Storage bucket — write_rds","text":"","code":"if (FALSE) { write_rds(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_rds_test.rds\") }"},{"path":"/reference/write_sf_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Funksjon for aa lagre sf-objekt som .parquet-fil til Google Cloud Storage bucket — write_sf_parquet","title":"Funksjon for aa lagre sf-objekt som .parquet-fil til Google Cloud Storage bucket — write_sf_parquet","text":"Funksjonen write_sf_parquet kan brukes til aa skrive sf-objekter som .parquet-filer til Google Cloud Storage bucket.","code":""},{"path":"/reference/write_sf_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funksjon for aa lagre sf-objekt som .parquet-fil til Google Cloud Storage bucket — write_sf_parquet","text":"","code":"write_sf_parquet(data, file, ...)"},{"path":"/reference/write_sf_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funksjon for aa lagre sf-objekt som .parquet-fil til Google Cloud Storage bucket — write_sf_parquet","text":"data Filen som skal skrives. file Full filsti og filnavn hvor filen skal skrives. ... Flere parametere (se dokumentasjonen til: write_parquet()/write_sf_parquet()/write_feather()/write_csv()/write_dataset())","code":""},{"path":"/reference/write_sf_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funksjon for aa lagre sf-objekt som .parquet-fil til Google Cloud Storage bucket — write_sf_parquet","text":"","code":"if (FALSE) { write_sf_parquet(data, \"ssb-prod-dapla-felles-data-delt/R_smoke_test/write_SSB_parquet_sf.parquet\") }"}]
